Build a production-ready CLI tool called promptlint.

Goal:
Create a developer CLI that analyzes AI coding prompts and returns structured feedback on quality, ambiguity, safety, and completeness.

Core concept:
Developers pass a prompt file to the CLI. The tool evaluates it using an LLM and outputs:

Ambiguities

Missing constraints

Security red flags

Non-determinism risks

Suggested improved version

Overall quality score (0â€“100)

Technical requirements:

Language: Node.js (TypeScript preferred).
CLI framework: Commander or similar.
Package manager: npm.
The tool must work as:

promptlint prompt.txt

Features:

Reads prompt from file or stdin.

Sends prompt to an LLM API (abstract provider layer so Kilo/OpenAI/etc. can be swapped).

Returns structured JSON internally.

Displays clean formatted CLI output.

Optional flag: --json for raw JSON output.

Optional flag: --strict to increase lint severity.

Exit code:

0 = good prompt

1 = warnings

2 = critical issues

LLM evaluation instructions (this is the analysis prompt the tool should send):

You are a strict AI prompt auditor for software engineering prompts.

Analyze the following prompt and return structured JSON with:

{
"ambiguities": [],
"missing_constraints": [],
"security_risks": [],
"nondeterminism_risks": [],
"clarity_score": 0-100,
"improved_prompt": "rewritten version"
}

Evaluation criteria:

Ambiguity: unclear scope, vague requirements, undefined inputs/outputs.

Missing constraints: no performance limits, no error handling expectations, no edge cases, no formatting constraints.

Security risks: injection vectors, unsafe code generation patterns, secrets exposure, production misuse.

Non-determinism: open-ended instructions without boundaries.

Clarity score: strict scoring. 90+ only for production-grade prompts.

Output only valid JSON.

Additional requirements:

Implement a provider abstraction layer:

interface LLMProvider { analyze(prompt: string): Promise<AnalysisResult> }

Provide one implementation (e.g., OpenAI-compatible REST).

Environment variable for API key.

Graceful error handling.

Clean README with install instructions.

MIT license.

Modular file structure.

Unit test for parser and formatter.

Bonus (if time allows):

Add --fix flag to automatically print only improved prompt.

Add colorized output.

Add Git pre-commit hook support.

The final result must be:

Installable via npm

Open source ready

Clean code

Easy to extend

Production structured

Deliver full project structure and code files.